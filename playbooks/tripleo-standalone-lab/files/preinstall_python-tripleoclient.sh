#!/bin/bash
pushd /tmp 
cp /var/lib/libvirt/images/CentOS-7-x86_64-GenericCloud.qcow2 /tmp/CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2
wget -O delorean.repo https://trunk.rdoproject.org/centos7/current-tripleo/delorean.repo
wget -O delorean-deps.repo https://trunk.rdoproject.org/centos7/delorean-deps.repo

virt-customize -a CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2 --upload delorean.repo:/etc/yum.repos.d/ 
virt-customize -a CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2 --upload delorean-deps.repo:/etc/yum.repos.d/

# virt-customize -a CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2 --install python-tripleoclient

virt-customize -a CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2 --install python-tripleoclient,ansible-config_template,ansible-pacemaker,ansible-role-atos-hsm,ansible-role-chrony,ansible-role-container-registry,ansible-role-openstack-operations,ansible-role-thales-hsm,ansible-role-tripleo-modify-image,ansible-tripleo-ipsec,openstack-heat-agents,openstack-heat-api,openstack-heat-common,openstack-heat-engine,openstack-heat-monolith,openstack-selinux,openstack-tempest,openstack-tripleo-common,openstack-tripleo-common-containers,openstack-tripleo-heat-templates,openstack-tripleo-image-elements,openstack-tripleo-puppet-elements,openstack-tripleo-validations,openvswitch,os-apply-config,os-collect-config,os-net-config,os-prober,os-refresh-config,python-anyjson,python-backports-ssl_match_hostname,python-beaker,python-beautifulsoup4,python-boto,python-Bottleneck,python-configobj,python-decorator,python-deltarpm,python-devel,python-dns,python-editor,python-enum34,python-gitdb,python-gobject-base,python-iniparse,python-inotify,python-IPy,python-junitxml,python-keyring,python-kitchen,python-libs,python-linecache2,python-linux-procfs,python-logutils,python-lxml,python-mako,python-matplotlib-data,python-matplotlib-data-fonts,python-mccabe,python-memcached,python-migrate,python-netifaces,python-nose,python-openstackclient-lang,python-openvswitch,python-oslo-cache-lang,python-oslo-concurrency-lang,python-oslo-db-lang,python-oslo-i18n-lang,python-oslo-log-lang,python-oslo-middleware-lang,python-oslo-policy-lang,python-oslo-utils-lang,python-oslo-versionedobjects-lang,python-paste,python-paste-deploy,python-perf,python-ply,python-pycadf-common,python-pycparser,python-pycurl,python-pyngus,python-pytoml,python-repoze-lru,python-routes,python-schedutils,python-setproctitle,python-simplegeneric,python-smmap,python-sqlparse,python-tempita,python-unicodecsv,python-urlgrabber,python-virtualenv,python-waitress,python-warlock,python-webtest,python-zmq,python2-alembic,python2-amqp,python2-aodhclient,python2-appdirs,python2-asn1crypto,python2-babel,python2-backports,python2-barbicanclient,python2-bcrypt,python2-cachetools,python2-castellan,python2-cffi,python2-chardet,python2-cinderclient,python2-cliff,python2-cmd2,python2-contextlib2,python2-croniter,python2-crypto,python2-cryptography,python2-cycler,python2-dateutil,python2-ddt,python2-debtcollector,python2-designateclient,python2-dogpile-cache,python2-eventlet,python2-extras,python2-fasteners,python2-fixtures,python2-flake8,python2-funcsigs,python2-functools32,python2-future,python2-futures,python2-futurist,python2-gevent,python2-glanceclient,python2-gnocchiclient,python2-greenlet,python2-heat-agent,python2-heat-agent-ansible,python2-heat-agent-apply-config,python2-heat-agent-docker-cmd,python2-heat-agent-hiera,python2-heat-agent-json-file,python2-heat-agent-puppet,python2-heatclient,python2-idna,python2-ipaddress,python2-ironic-inspector-client,python2-ironicclient,python2-iso8601,python2-jinja2,python2-jmespath,python2-jsonpatch,python2-jsonpointer,python2-jsonschema,python2-keystone-tests-tempest,python2-keystoneauth1,python2-keystoneclient,python2-keystonemiddleware,python2-kombu,python2-magnumclient,python2-manilaclient,python2-markupsafe,python2-matplotlib,python2-matplotlib-tk,python2-metalsmith,python2-mimeparse,python2-mistral-lib,python2-mistralclient,python2-monascaclient,python2-monotonic,python2-msgpack,python2-munch,python2-netaddr,python2-networkx,python2-neutron-lib,python2-neutron-tests-tempest,python2-neutronclient,python2-notario,python2-novaclient,python2-numexpr,python2-numpy,python2-octaviaclient,python2-olefile,python2-openstackclient,python2-openstacksdk,python2-os-client-config,python2-os-ken,python2-os-service-types,python2-os-testr,python2-os-traits,python2-osc-lib,python2-oslo-cache,python2-oslo-concurrency,python2-oslo-config,python2-oslo-context,python2-oslo-db,python2-oslo-i18n,python2-oslo-log,python2-oslo-messaging,python2-oslo-middleware,python2-oslo-policy,python2-oslo-reports,python2-oslo-rootwrap,python2-oslo-serialization,python2-oslo-service,python2-oslo-upgradecheck,python2-oslo-utils,python2-oslo-versionedobjects,python2-osprofiler,python2-pandas,python2-pankoclient,python2-paramiko,python2-passlib,python2-paunch,python2-pbr,python2-pecan,python2-pillow,python2-pip,python2-prettytable,python2-psutil,python2-pyasn1,python2-pycadf,python2-pycodestyle,python2-pydot,python2-PyMySQL,python2-pynacl,python2-pyOpenSSL,python2-pyparsing,python2-pyperclip,python2-pysocks,python2-pyudev,python2-qpid-proton,python2-requests,python2-requestsexceptions,python2-rfc3986,python2-rsa,python2-saharaclient,python2-scipy,python2-setuptools,python2-shade,python2-simplejson,python2-singledispatch,python2-six,python2-sqlalchemy,python2-statsd,python2-stestr,python2-stevedore,python2-subprocess32,python2-subunit,python2-swiftclient,python2-tables,python2-tempest,python2-tempestconf,python2-tenacity,python2-testscenarios,python2-testtools,python2-tinyrpc,python2-traceback2,python2-tripleo-common,python2-tripleoclient,python2-tripleoclient-heat-installer,python2-troveclient,python2-ujson,python2-unittest2,python2-urllib3,python2-vine,python2-voluptuous,python2-wcwidth,python2-weakrefmethod,python2-webob,python2-websocket-client,python2-werkzeug,python2-wrapt,python2-yappi,python2-yaql,python2-zaqarclient



cp -v /tmp/CentOS-7-x86_64-TripleO-Master-Current-TripleO.qcow2 /var/lib/libvirt/images/
